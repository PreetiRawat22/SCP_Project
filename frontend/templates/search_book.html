{% extends "base.html" %}
{% block title %}search a Book{% endblock %}

{% block pageContent %}
<script src="https://code.jquery.com/jquery-1.12.4.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.16/js/dataTables.bootstrap4.min.js"></script>
<script>
    $(document).ready(function(){
        $('#example').DataTable({
                "aLengthMenu":[[5,10,15,-1],[5,10,15,"All"]],
                "iDisplayLength":5
        });
    });
</script>
<div class="row"><h3>Search a book</h3></div>
<div class="row">
        <strong>{{ message }}</strong>
    <div class="col-md-8">
        <table id="example" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <td>Book ID</td>
                <td>Book Name</td>
                <td>Author Name</td>
                <td>Published Year</td>
                <td>Download</td>
            </tr>
        </thead>
        <tbody>
            {% if books | length > 0 %}
            {% for data in books.result %}
            <tr>
                <td>{{data.id}} </td>
                <td>{{data.name}}</td>
                <td>{{data.author_name}}</td> 
                <td>{{data.published_year}}</td>  
                <td width="130">
                    <a href="/download/{{data.name}}"  class="btn btn-secondary btn-sm">download</a>
                </td>
            </tr>
            {% endfor %}
            {% endif %}
        </tbody>
        </table>
    </div>
</div>
{% endblock %}